---
import type { GitHubCalendar } from '@utils/github';
import HeatmapIsland from './ContributionHeatmap.tsx';

interface Props {
  calendar: GitHubCalendar;
}

const { calendar } = Astro.props;
const days = calendar.weeks.flatMap((w) => w.days);
---

<div class="gw-heatmap" role="img" aria-label="Contribution activity over the past year">
  <HeatmapIsland client:visible days={days} />
</div>

<style>
  .gw-heatmap {
    overflow-x: auto;
  }

  /* Style the react-activity-calendar container */
  .gw-heatmap :global(.react-activity-calendar) {
    color: var(--colour-text-muted);
    font-family: var(--font-sans);
  }

  @media (max-width: 640px) {
    .gw-heatmap :global(.react-activity-calendar) {
      font-size: 10px;
    }
  }
</style>
